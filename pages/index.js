import Link from 'next/link'
var flubber = require("flubber");
import * as d3 from "d3"
// export default () => (
//   <div>
//     <div>Index to next.js!</div>
//     <div>Click <Link href="/about"><a>here</a></Link> to read more</div>
//   </div>
// )
// import React from 'react'
export default class extends React.Component {
  constructor(props, context) {
    super(props, context);

    this.state = {
      aaa: 'test'
    };

  }
  getInitialState() {
    return {
      aaa: "aaa"
    }
  }

  componentDidMount() {
    // console.log('index mounted')
    // var path = d3.select("path")
    // // path = svg.append("path");
    var pathStrings = Array.from(document.querySelectorAll("path")).map(d => d.getAttribute("d"));
    console.log(flubber.splitPathString("M161.230002,0.8 L282.030002,280 L237.230002,280 L208.030002,209.6 L72.8300018,209.6 L44.0300018,280 L0.830001831,280 L119.630002,0.8 L161.230002,0.8 Z M194.430002,177.2 L158.030002,85.6 C153.230002,74 144.030002,48.8 139.630002,34.8 L138.830002,34.8 C134.430002,48.8 125.230002,73.2 120.430002,85.6 L85.2300018,177.2 L194.430002,177.2 Z"))
    // console.log(pathStrings);
    //
    d3.select("#bbb")
    .transition()
    .delay(300)
    .duration(1000)
    .attrTween("d", function(d){
      return flubber.toRect(pathStrings[1], 50,50,100,100, { maxSegmentLength: 1 })
    })
    // .attrTween("d", function(d){
    //   return flubber.interpolate(pathStrings[0], "M149.090005,10.4 C129.090005,2.8 110.290005,0 89.8900055,0 C36.2900055,0 0.690005493,30.8 0.690005493,75.6 C0.690005493,109.6 15.8900055,130.4 67.8900055,154 C110.290005,172.8 121.890005,186 121.890005,210 C121.890005,237.2 99.0900055,254.8 65.0900055,254.8 C47.8900055,254.8 29.4900055,250.8 7.09000549,239.6 L2.69000549,276.8 C23.0900055,285.2 44.2900055,288.8 67.8900055,288.8 C124.690005,288.8 163.090005,254.4 163.090005,205.6 C163.090005,168.4 142.690005,144.4 94.2900055,123.2 C49.8900055,103.6 41.4900055,90.4 41.4900055,71.6 C41.4900055,49.6 62.2900055,33.2 91.8900055,33.2 C107.490005,33.2 123.890005,36.4 143.890005,45.2 L149.090005,10.4 Z", { maxSegmentLength: 1 })
    // })


  }
  // static async getInitialProps ({ req }) {
  //   return req
  //     ? { userAgent: req.headers['user-agent'] }
  //     : { userAgent: navigator.userAgent }
  // }
  render () {
    return <div>
      <style jsx>{`
        h1 {
          position: fixed;
          width: 100%;
          top: 0;
          margin: 0;
          line-height: 0;
          // transform: translateY(5%);
        }
        // h1 span:nth-of-type(3) {
        //   width: 22%;
        // }
        // h1 span:nth-of-type(4) {
        //   width: 28%;
        // }
        @media (max-width: 600px) {
          div {
            background: blue;
          }
        }
      `}</style>
      <h1>

<svg viewBox="0 0 1283 289">

    <desc>Created with Sketch.</desc>
    <defs></defs>
    <g id="Page-1" stroke="none">
        <g id="Artboard" fill="#29333D">
            <g id="Group-4">
                <g id="Group-2">
                  {/* <path d="M0,0 h162 v289 h-289z"></path> */}
                  {/* <path id="aaa" d="M93.8376921,123 C49.8328966,103.510039 41.4900055,90.3359834 41.4900055,71.6 C41.4900055,49.6 62.2900055,33.2 91.8900055,33.2 C107.490005,33.2 123.890005,36.4 143.890005,45.2 L149.090005,10.4 C129.090005,2.8 110.290005,0 89.8900055,0 C36.2900055,0 0.690005493,30.8 0.690005493,75.6 C0.690005493,94.5879641 5.43070643,109.459004 18.6743978,123 L93.8376876,123 Z M158.000005,176.912068 C161.451029,185.572089 163.090005,195.055787 163.090005,205.6 C163.090005,254.4 124.690005,288.8 67.8900055,288.8 C44.2900055,288.8 23.0900055,285.2 2.69000549,276.8 L7.09000549,239.6 C29.4900055,250.8 47.8900055,254.8 65.0900055,254.8 C99.0900055,254.8 121.890005,237.2 121.890005,210 C121.890005,202.430524 120.736108,195.935366 117.825941,190 L158,190 L158,176.912055 Z"></path> */}
                    <path id="aaa" d="M149.090005,10.4 C129.090005,2.8 110.290005,0 89.8900055,0 C36.2900055,0 0.690005493,30.8 0.690005493,75.6 C0.690005493,109.6 15.8900055,130.4 67.8900055,154 C110.290005,172.8 121.890005,186 121.890005,210 C121.890005,237.2 99.0900055,254.8 65.0900055,254.8 C47.8900055,254.8 29.4900055,250.8 7.09000549,239.6 L2.69000549,276.8 C23.0900055,285.2 44.2900055,288.8 67.8900055,288.8 C124.690005,288.8 163.090005,254.4 163.090005,205.6 C163.090005,168.4 142.690005,144.4 94.2900055,123.2 C49.8900055,103.6 41.4900055,90.4 41.4900055,71.6 C41.4900055,49.6 62.2900055,33.2 91.8900055,33.2 C107.490005,33.2 123.890005,36.4 143.890005,45.2 L149.090005,10.4 Z"></path>
                </g>
                <g id="Group-3" transform="translate(770.000000, 4.000000)">
                    <path id="bbb" d="M41.3699982,0.8L0.569998169 0.8 0.569998169 280 158.169998 280 158.169998 245.6 41.3699982 245.6z"></path>
                </g>
                <g id="Group-2" transform="translate(1070.000000, 4.000000)">
                    <path id="ddd" d="M127.909995,280L127.909995 35.2 212.309995 36.4 212.309995 0.8 0.309994507 0.8 0.309994507 36.4 87.1099945 35.2 87.1099945 280z"></path>
                </g>
                <g id="Group" transform="translate(316.000000, 4.000000)">
                    <path id="ccc" d="M161.230002,0.8 L282.030002,280 L237.230002,280 L208.030002,209.6 L72.8300018,209.6 L44.0300018,280 L0.830001831,280 L119.630002,0.8 L161.230002,0.8 Z M194.430002,177.2 L158.030002,85.6 C153.230002,74 144.030002,48.8 139.630002,34.8 L138.830002,34.8 C134.430002,48.8 125.230002,73.2 120.430002,85.6 L85.2300018,177.2 L194.430002,177.2 Z" id="Combined-Shape"></path>
                </g>
            </g>
        </g>
    </g>
</svg>

      </h1>
      Hello World {this.state.aaa}
      <div>Click <Link href="/about"><a>here</a></Link> to read more</div>
    </div>
  }
}
